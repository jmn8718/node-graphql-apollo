{"version":3,"sources":["../../src/db/index.js"],"names":["DB","process","env","ENV","DB_ENDPOINT","DB_PORT","DB_COLLECTION","DB_USERNAME","DB_PASSWORD","connect","connection","on","console","log","err","error","module","exports"],"mappings":";;AAAA;;;;;;AAEA,IAAIA,WAAJ;AACA,IAAIC,QAAQC,GAAR,CAAYC,GAAZ,KAAoB,aAAxB,EAAuC;AACrCH,sBAAkBC,QAAQC,GAAR,CAAYE,WAA9B,SAA6CH,QAAQC,GAAR,CAAYG,OAAzD,SAAoEJ,QAAQC,GAAR,CAAYI,aAAhF;AACD,CAFD,MAEO;AACLN,sBAAkBC,QAAQC,GAAR,CAAYK,WAA9B,SAA6CN,QAAQC,GAAR,CAAYM,WAAzD,SAAwEP,QAAQC,GAAR,CAAYE,WAApF,SAAmGH,QAAQC,GAAR,CAAYG,OAA/G,SAA0HJ,QAAQC,GAAR,CAAYI,aAAtI;AACD;;AAED;AACA,mBAASG,OAAT,CAAiBT,EAAjB;;AAEA;AACA,mBAASU,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,YAAM;AACxCC,UAAQC,GAAR,4BAAqCb,EAArC,EADwC,CACK;AAC9C,CAFD;;AAIA;AACA,mBAASU,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,UAACG,GAAD,EAAS;AACvCF,UAAQG,KAAR,sBAAiCD,GAAjC,EADuC,CACE;AAC1C,CAFD;;AAIAE,OAAOC,OAAP","file":"index.js","sourcesContent":["import mongoose from 'mongoose';\n\nlet DB;\nif (process.env.ENV === 'development') {\n  DB = `mongodb://${process.env.DB_ENDPOINT}:${process.env.DB_PORT}/${process.env.DB_COLLECTION}`;\n} else {\n  DB = `mongodb://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@${process.env.DB_ENDPOINT}:${process.env.DB_PORT}/${process.env.DB_COLLECTION}`;\n}\n\n// Connect To Database\nmongoose.connect(DB);\n\n// On Connection\nmongoose.connection.on('connected', () => {\n  console.log(`Connected to database ${DB}`);  // eslint-disable-line no-console\n});\n\n// On Error\nmongoose.connection.on('error', (err) => {\n  console.error(`Database error: ${err}`); // eslint-disable-line no-console\n});\n\nmodule.exports = mongoose;\n"]}